{"version":3,"sources":["webpack:///./src/app/tab1/tab1.module.ts","webpack:///./src/app/tab1/tab1.page.html","webpack:///./src/app/tab1/tab1.page.scss","webpack:///./src/app/tab1/tab1.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAA6C;AACE;AACN;AACM;AACF;AACN;AAWvC;IAAA;IAA6B,CAAC;IAAjB,cAAc;QAT1B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,0DAAW;gBACX,4DAAY;gBACZ,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,mDAAQ,EAAE,CAAC,CAAC;aAC3D;YACD,YAAY,EAAE,CAAC,mDAAQ,CAAC;SACzB,CAAC;OACW,cAAc,CAAG;IAAD,qBAAC;CAAA;AAAH;;;;;;;;;;;;AChB3B,4WAA4W,eAAe,8ZAA8Z,mBAAmB,sDAAsD,cAAc,+FAA+F,oBAAoB,mT;;;;;;;;;;;ACAn+B,qCAAqC,qBAAqB,qBAAqB,EAAE,aAAa,gBAAgB,iBAAiB,EAAE,sBAAsB,uBAAuB,EAAE,cAAc,kBAAkB,mCAAmC,wBAAwB,EAAE,+CAA+C,mzB;;;;;;;;;;;;;;;;;;;;;ACAlR;AAC2B;AACd;AACN;AACW;AACnB;AACU;AAMnD;IAII,kBACY,cAA8B,EAC9B,qBAA4C,EAC5C,eAAgC,EAChC,WAAwB,EACxB,MAAc,EACd,iBAAoC;QALpC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,oBAAe,GAAf,eAAe,CAAiB;QAChC,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QACd,sBAAiB,GAAjB,iBAAiB,CAAmB;QARxC,YAAO,GAAQ,IAAI,CAAC;QACpB,aAAQ,GAAQ,EAAE,CAAC;QASvB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;IAC5C,CAAC;IACD,mCAAgB,GAAhB;QACI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IACvB,CAAC;IACD,6BAAU,GAAV,UAAW,WAAW;QAAtB,iBAQC;QAPG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,UAAC,OAAO;YAC7D,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACrB,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;YAClC,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;QAC9B,CAAC,EAAE,UAAC,KAAK;YACL,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC;QACpC,CAAC,CAAC,CAAC;IACP,CAAC;IACD,yBAAM,GAAN;QACI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QAC1B,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;IACrC,CAAC;IACK,4CAAyB,GAA/B;;;;;4BACoB,qBAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;4BAChD,OAAO,EAAE,SAAS;4BAClB,QAAQ,EAAE,IAAI;4BACd,OAAO,EAAE,iBAAiB;4BAC1B,WAAW,EAAE,IAAI;4BACjB,QAAQ,EAAE,6BAA6B;yBAC1C,CAAC;;wBANI,OAAO,GAAG,SAMd;wBACK,qBAAM,OAAO,CAAC,OAAO,EAAE;4BAA9B,sBAAO,SAAuB,EAAC;;;;KAClC;IACK,qCAAkB,GAAxB,UAAyB,MAAM;;;;;;4BACP,qBAAM,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC;4BACxD,MAAM,EAAE,UAAU;4BAClB,OAAO,EAAE,CAAC;oCACN,IAAI,EAAE,UAAU;oCAChB,IAAI,EAAE,aAAa;oCACnB,IAAI,EAAE,OAAO;oCACb,OAAO,EAAE;wCACL,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wCAC9B,KAAI,CAAC,mBAAmB,EAAE,CAAC;oCAC/B,CAAC;iCACJ,EAAE;oCACC,IAAI,EAAE,QAAQ;oCACd,IAAI,EAAE,QAAQ;oCACd,OAAO,EAAE;wCACL,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;wCAChC,KAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;oCACpC,CAAC;iCACJ,EAAE;oCACC,IAAI,EAAE,SAAS;oCACf,IAAI,EAAE,KAAK;oCACX,OAAO,EAAE;wCACL,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;wCAChC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qBAAmB,MAAM,CAAC,EAAI,CAAC,CAAC,CAAC;oCAC3D,CAAC;iCACJ,EAAE;oCACC,IAAI,EAAE,UAAU;oCAChB,IAAI,EAAE,OAAO;oCACb,IAAI,EAAE,QAAQ;oCACd,OAAO,EAAE;wCACL,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oCAClC,CAAC;iCACJ,CAAC;yBACL,CAAC;;wBAhCI,WAAW,GAAG,SAgClB;wBACF,qBAAM,WAAW,CAAC,OAAO,EAAE;;wBAA3B,SAA2B,CAAC;;;;;KAC/B;IAEK,sCAAmB,GAAzB;;;;;4BACkB,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;4BAC5C,MAAM,EAAE,gBAAgB;4BACxB,OAAO,EAAE;gCACL;oCACI,IAAI,EAAE,UAAU;oCAChB,IAAI,EAAE,QAAQ;oCACd,QAAQ,EAAE,WAAW;oCACrB,OAAO,EAAE,UAAC,IAAI;wCACV,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;oCACxC,CAAC;iCACJ,EAAE;oCACC,IAAI,EAAE,WAAW;oCACjB,OAAO,EAAE;wCACL,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;oCAChC,CAAC;iCACJ;6BACJ;yBACJ,CAAC;;wBAjBI,KAAK,GAAG,SAiBZ;wBAEF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACzB;IAEK,qCAAkB,GAAxB,UAAyB,MAAM;;;;;;4BACb,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;4BAC5C,MAAM,EAAE,gBAAgB;4BACxB,MAAM,EAAE;gCACJ;oCACI,IAAI,EAAE,MAAM;oCACZ,IAAI,EAAE,MAAM;oCACZ,KAAK,EAAE,MAAM,CAAC,UAAU;oCACxB,WAAW,EAAE,QAAQ;iCACxB;gCACD;oCACI,IAAI,EAAE,MAAM;oCACZ,IAAI,EAAE,MAAM;oCACZ,KAAK,EAAE,MAAM,CAAC,WAAW;oCACzB,WAAW,EAAE,aAAa;iCAC7B;6BACJ;4BACD,OAAO,EAAE;gCACL;oCACI,IAAI,EAAE,UAAU;oCAChB,IAAI,EAAE,QAAQ;oCACd,QAAQ,EAAE,WAAW;oCACrB,OAAO,EAAE;wCACL,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;oCAC5B,CAAC;iCACJ,EAAE;oCACC,IAAI,EAAE,SAAS;oCACf,OAAO,EAAE,cAAI;wCACT,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;wCAC1B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wCACvB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wCACvB,KAAI,CAAC,cAAc,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,EAAC,IAAI,CAAC,IAAI,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,cAAI;4CAC5E,KAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;wCAC3C,CAAC,CAAC,CAAC,CAAC;oCACR,CAAC;iCACJ;6BACJ;yBACJ,CAAC;;wBApCI,KAAK,GAAG,SAoCZ;wBAEF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACzB;IACM,yCAAsB,GAA7B,UAA8B,MAAM;QAChC,KAAK,CAAC,mCAAmC,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qBAAmB,MAAQ,CAAC,CAAC,CAAC;IACxD,CAAC;IAlJQ,QAAQ;QALpB,+DAAS,CAAC;YACP,QAAQ,EAAE,UAAU;YACpB,sFAA6B;;SAEhC,CAAC;+EAM8B,gFAAc;YACP,oEAAqB;YAC3B,8DAAe;YACnB,uEAAW;YAChB,sDAAM;YACK,gEAAiB;OAVvC,QAAQ,CAsJpB;IAAD,eAAC;CAAA;AAtJoB","file":"tab1-tab1-module.js","sourcesContent":["import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab1Page } from './tab1.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: Tab1Page }])\n  ],\n  declarations: [Tab1Page]\n})\nexport class Tab1PageModule {}\n","module.exports = \"<ion-header  translucent>\\r\\n    <ion-toolbar color=\\\"danger\\\">\\r\\n        <ion-title>Noticias Tuxtla</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content fullscreen class=\\\"background-primary\\\">\\r\\n    <ion-card>\\r\\n        <ion-item>\\r\\n            <ion-icon name=\\\"person\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-label>{{dataUser.name}}</ion-label>\\r\\n        </ion-item>\\r\\n        <ion-card-content>\\r\\n            <ion-button (click)=\\\"logout()\\\" expand=\\\"full\\\" color=\\\"danger\\\">Salir</ion-button>\\r\\n        </ion-card-content>\\r\\n    </ion-card>\\r\\n    <ion-card *ngFor=\\\"let report of reports\\\" (click)=\\\"presentActionSheet(report)\\\">\\r\\n        <img [src]=\\\"report.imagen\\\" />\\r\\n        <ion-card-header>\\r\\n            <ion-card-subtitle>{{report.nameReport}}</ion-card-subtitle>\\r\\n            <ion-card-title>{{report.fecha}}</ion-card-title>\\r\\n        </ion-card-header>\\r\\n        <ion-card-content>\\r\\n            {{report.descripcion}}\\r\\n        </ion-card-content>\\r\\n    </ion-card>\\r\\n</ion-content>\\r\\n<ion-fab routerLink=\\\"/tabs/tab2\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button color=\\\"danger\\\" size=\\\"small\\\">\\r\\n        <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n</ion-fab>\\r\\n\"","module.exports = \".welcome-card img {\\n  max-height: 35vh;\\n  overflow: hidden; }\\n\\n.avatar {\\n  width: 20px;\\n  height: 20px; }\\n\\n.padding-profile {\\n  padding: 20px 20px; }\\n\\n.profile {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMS9DOlxcVXNlcnNcXHVzdWFyaW9cXERvY3VtZW50c1xcZGV2anNcXGFwbGljYWNpb25lcyBtb3ZpbGVzXFxmaW5hbC9zcmNcXGFwcFxcdGFiMVxcdGFiMS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsZ0JBQWdCLEVBQUE7O0FBRWxCO0VBQ0UsV0FBVztFQUNYLFlBQVksRUFBQTs7QUFFZDtFQUNFLGtCQUFrQixFQUFBOztBQUdwQjtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsbUJBQW1CLEVBQUEiLCJmaWxlIjoic3JjL2FwcC90YWIxL3RhYjEucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLndlbGNvbWUtY2FyZCBpbWcge1xuICBtYXgtaGVpZ2h0OiAzNXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLmF2YXRhcntcbiAgd2lkdGg6IDIwcHg7XG4gIGhlaWdodDogMjBweDtcbn1cbi5wYWRkaW5nLXByb2ZpbGV7XG4gIHBhZGRpbmc6IDIwcHggMjBweDtcbn1cblxuLnByb2ZpbGV7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn0iXX0= */\"","import { Component } from '@angular/core';\r\nimport { ReportsService } from '../services/reports/reports.service';\r\nimport { ActionSheetController } from '@ionic/angular';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { UserService } from '../services/auth/user.service';\r\nimport { Router } from '@angular/router';\r\nimport { LoadingController } from '@ionic/angular';\r\n@Component({\r\n    selector: 'app-tab1',\r\n    templateUrl: 'tab1.page.html',\r\n    styleUrls: ['tab1.page.scss']\r\n})\r\nexport class Tab1Page {\r\n\r\n    private reports: any = null;\r\n    private dataUser: any = [];\r\n    constructor(\r\n        private reportServices: ReportsService,\r\n        private actionSheetController: ActionSheetController,\r\n        private alertController: AlertController,\r\n        private userService: UserService,\r\n        private router: Router,\r\n        private loadingController: LoadingController\r\n    ) {\r\n        this.getReports(0);\r\n        this.dataUser = this.userService.auth();\r\n    }\r\n    ionViewWillEnter() {\r\n        this.getReports(0);\r\n    }\r\n    getReports(reporter_id) {\r\n        this.reportServices.getAllReports(reporter_id).subscribe((reports) => {\r\n            console.log(reports);\r\n            this.reports = reports['reports'];\r\n            console.log(this.reports);\r\n        }, (error) => {\r\n            alert(\"error: \" + error.message)\r\n        });\r\n    }\r\n    logout() {\r\n        this.userService.logout();\r\n        this.presentLoadingWithOptions();\r\n        this.router.navigate(['/login']);\r\n    }\r\n    async presentLoadingWithOptions() {\r\n        const loading = await this.loadingController.create({\r\n            spinner: 'circles',\r\n            duration: 1000,\r\n            message: 'Cerrando sesión',\r\n            translucent: true,\r\n            cssClass: 'custom-class custom-loading'\r\n        });\r\n        return await loading.present();\r\n    }\r\n    async presentActionSheet(report) {\r\n        const actionSheet = await this.actionSheetController.create({\r\n            header: 'Noticias',\r\n            buttons: [{\r\n                text: 'Eliminar',\r\n                role: 'destructive',\r\n                icon: 'trash',\r\n                handler: () => {\r\n                    console.log('Delete clicked');\r\n                    this.presentAlertConfirm();\r\n                }\r\n            }, {\r\n                text: 'Editar',\r\n                icon: 'create',\r\n                handler: () => {\r\n                    console.log('Favorite clicked');\r\n                    this.presentAlertPrompt(report);\r\n                }\r\n            }, {\r\n                text: 'Detalle',\r\n                icon: 'eye',\r\n                handler: () => {\r\n                    console.log('Favorite clicked');\r\n                    this.router.navigate([`/detallereporte/${report.id}`]);\r\n                },\r\n            }, {\r\n                text: 'Cancelar',\r\n                icon: 'close',\r\n                role: 'cancel',\r\n                handler: () => {\r\n                    console.log('Cancel clicked');\r\n                }\r\n            }]\r\n        });\r\n        await actionSheet.present();\r\n    }\r\n\r\n    async presentAlertConfirm() {\r\n        const alert = await this.alertController.create({\r\n            header: '¿Estás seguro?',\r\n            buttons: [\r\n                {\r\n                    text: 'Cancelar',\r\n                    role: 'cancel',\r\n                    cssClass: 'secondary',\r\n                    handler: (blah) => {\r\n                        console.log('Confirm Cancel: blah');\r\n                    }\r\n                }, {\r\n                    text: 'Confirmar',\r\n                    handler: () => {\r\n                        console.log('Confirm Okay');\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n\r\n        await alert.present();\r\n    }\r\n\r\n    async presentAlertPrompt(report) {\r\n        const alert = await this.alertController.create({\r\n            header: 'Editar Noticia',\r\n            inputs: [\r\n                {\r\n                    name: 'name',\r\n                    type: 'text',\r\n                    value: report.nameReport,\r\n                    placeholder: 'Nombre'\r\n                },\r\n                {\r\n                    name: 'desc',\r\n                    type: 'text',\r\n                    value: report.descripcion,\r\n                    placeholder: 'Descripción'\r\n                },\r\n            ],\r\n            buttons: [\r\n                {\r\n                    text: 'Cancelar',\r\n                    role: 'cancel',\r\n                    cssClass: 'secondary',\r\n                    handler: () => {\r\n                        console.log('Cancelar');\r\n                    }\r\n                }, {\r\n                    text: 'Guardar',\r\n                    handler: data => {\r\n                        console.log('Confirm Ok');\r\n                        console.log(data.name);\r\n                        console.log(data.desc);\r\n                        this.reportServices.updateReports(report.id,data.name,data.desc).subscribe((data=>{\r\n                            this.updateReportSuccessful(report.id);\r\n                        }));\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n\r\n        await alert.present();\r\n    }\r\n    public updateReportSuccessful(report){\r\n        alert(\"Reporte actualizado correctamente\");\r\n        this.router.navigate([`/detallereporte/${report}`]);\r\n    }\r\n\r\n\r\n\r\n}\r\n"],"sourceRoot":""}